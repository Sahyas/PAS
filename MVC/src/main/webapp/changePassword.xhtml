<!DOCTYPE html>
<html xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://xmlns.jcp.org/jsf/html">


<h:body>
    <h1>ChangePassword</h1>

    <h:form rendered="#{!userRole.isGuest()}">
        oldPassword:
        <h:inputSecret id="oldPasswordInput" value = "#{passwordBean.oldPassword}" required="true" validatorMessage="Invalid password">
            <f:validateLength minimum="5"/>

        </h:inputSecret>
        <br/>

        NewPassword:
        <h:inputSecret id="newPasswordInput" value = "#{passwordBean.newPassword}" required="true" validatorMessage="Invalid password">
            <f:validateLength minimum="5"/>

        </h:inputSecret>
        <br/>

        Repeat:
        <h:inputSecret id="repeatNewPasswordInput" value = "#{passwordBean.newPasswordRepeat}" required="true" validatorMessage="Invalid password">
            <f:validateLength minimum="5"/>

        </h:inputSecret>
        <br/>

        <h:commandButton value="change" action='#{passwordBean.changePassword()}' id="change"/>
        <br/>
        <h:message for="repeatNewPasswordInput" style="color:red"/>
        <h:message for="newPasswordInput" style="color:red"/>
    </h:form>
</h:body>

</html>